<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<title>Assignment 3: If you malloc something, set it free</title>
<link rel="stylesheet" href="../style/cs21.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_assignment_3_if_you_malloc_something_set_it_free">Assignment 3: If you malloc something, set it free</a></li>
<li><a href="#_update_your_repository">1. Update your repository</a></li>
<li><a href="#_repeat_repeat_repeat">2. Repeat! Repeat! Repeat!</a></li>
<li><a href="#_dynamic_snackbar">3. Dynamic snackbar</a></li>
<li><a href="#_wampus">4. Wampus</a></li>
<li><a href="#_grading_rubric">5. Grading Rubric</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_assignment_3_if_you_malloc_something_set_it_free">Assignment 3: If you malloc something, set it free</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Due Friday, February 7th, before midnight</strong></p>
</div>
<div class="paragraph">
<p>The goals for this assignment are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Work with pointers</p>
</li>
<li>
<p>Work with malloc/free</p>
</li>
<li>
<p>Work with arrays</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_update_your_repository">1. Update your repository</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Do a <strong>fetch upstream</strong> to obtain the basecode for this assignment.</p>
</div>
<div class="paragraph">
<p>Using the command line</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Open terminal and change your current directory to your assignment repository.</p>
</li>
<li>
<p>Run the command <code>git fetch upstream</code></p>
</li>
<li>
<p>Run the command <code>git merge upstream/main</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Your repository should now contain a new folder named <code>A03</code>.</p>
</div>
<div class="paragraph">
<p>The <code>fetch</code> and <code>merge</code> commands update your repository with any changes from the original.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_repeat_repeat_repeat">2. Repeat! Repeat! Repeat!</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Implement a program, <code>repeat.c</code>, that asks the user for a string <code>s</code> and an integer <code>n</code> and
then creates a new string that repeats <code>s</code> <code>n</code> times.  For example, if the user inputs <code>"ha"</code> and
the number <code>3</code>, the program creates a string <code>"hahaha"</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$ <strong>make repeat</strong>
gcc repeat.c -o repeat
$ <strong>./repeat</strong>
Enter a word: <strong>ha</strong>
Enter a count: <strong>3</strong>
Your word is hahaha
$ <strong>./repeat</strong>
Enter a word: <strong>ha</strong>
Enter a count: <strong>1000</strong>
hahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahaha
hahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahaha
hahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahaha
hahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahaha
hahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahaha
hahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahaha
[truncated]
$ <strong>./repeat</strong>
Enter a word: <strong>hi</strong>
Enter a count: <strong>1000000000000</strong>
Cannot allocate new string. Exiting...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Requirements/Hints:
* Your program can assume that the user enters words that are smaller than 32 characters.
* Your program should use <code>malloc</code> and <code>free</code>.
* Your program should check that <code>malloc</code> is successful.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dynamic_snackbar">3. Dynamic snackbar</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Implement a program, <code>dynamic_snackbar.c</code>, that allows users to add snacks to the snackbar.
Unlike last week&#8217;s snackbar, your program only needs two features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The ability to add a new snack to the list of snacks</p>
</li>
<li>
<p>The ability to print out the current list of snacks</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$ <strong>make dynamic_snackbar</strong>
gcc dynamic_snackbar.c -o dynamic_snackbar
$ <strong>./dynamic_snackbar</strong>
Enter a number of snacks: <strong>3</strong>
Enter a name: <strong>Slurm</strong>
Enter a cost: <strong>1.50</strong>
Enter a quantity: <strong>3</strong>
Enter a name: <strong>Beans</strong>
Enter a cost: <strong>5</strong>
Enter a quantity: <strong>1</strong>
Enter a name: <strong>Carrots</strong>
Enter a cost: <strong>2</strong>
Enter a quantity: <strong>10</strong>

Welcome to Dynamic Donna's Snack Bar.

0) Slurm                cost: $1.50     quantity: 3
1) Beans                cost: $5.00     quantity: 1
2) Carrots              cost: $2.00     quantity: 10</code></pre>
</div>
</div>
<div class="paragraph">
<p>Requirements/Hints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You must use malloc to create an array large enough to hold all the snacks</p>
</li>
<li>
<p>Use scanf to get the number of snacks and their attributes</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You do not need to type in the attributes every time. You can put the inputs in a file and then use redirection to load it.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_wampus">4. Wampus</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the file, <code>wampus.c</code>, implement a program that randomly places a Wampus within a NxM grid.
Then, fill in the remaining cells with their distance from the Wampus (using the Manhattan distance).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$ <strong>./wampus</strong>
Number of rows: 2
Number of columns: 3
3 2 1
2 1 W
$ <strong>./wampus</strong>
Number of rows: 1
Number of columns: 1
W
$ <strong>./wampus</strong>
Number of rows: 3
Number of columns: 4
1 W 1 2
2 1 2 3
3 2 3 4
$ <strong>./wampus</strong>
Number of rows: 6
Number of columns: 3
1 W 1
2 1 2
3 2 3
4 3 4
5 4 5
6 5 6</code></pre>
</div>
</div>
<div class="paragraph">
<p>Requirements/Hints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use rand() to generate a cell (i,j) for the Wampus.</p>
</li>
<li>
<p>Set a seed so that rand() produces different boards each time.</p>
</li>
<li>
<p>Your program should ask the user for a width and height for the grid</p>
</li>
<li>
<p>Your program should print the grid with its values</p>
</li>
<li>
<p>Your program should use malloc/free to create the grid</p>
</li>
<li>
<p>You can assume that the user will only enter positive values for rows and columns</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_grading_rubric">5. Grading Rubric</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Assignment rubrics</strong></p>
</div>
<div class="paragraph">
<p>Grades are out of 4 points.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(1 point) repeat</p>
<div class="ulist">
<ul>
<li>
<p>(0.1 points) style and header comment</p>
</li>
<li>
<p>(0.5 points) no memory errors</p>
</li>
<li>
<p>(0.4 points) correct behavior: asks the user for input and creates the new string</p>
</li>
</ul>
</div>
</li>
<li>
<p>(1 point) wampus</p>
<div class="ulist">
<ul>
<li>
<p>(0.1 points) style and header comment</p>
</li>
<li>
<p>(0.5 points) no memory errors</p>
</li>
<li>
<p>(0.4 points) correct behavior: uses a command line argument to get the size and outputs the correct board</p>
</li>
</ul>
</div>
</li>
<li>
<p>(2 points) dynamic snackbar</p>
<div class="ulist">
<ul>
<li>
<p>(0.15 points) style and header comment</p>
</li>
<li>
<p>(0.05 points) defines a struct to hold the information for each snack</p>
</li>
<li>
<p>(0.8 points) correctly loads data and prints results in a table</p>
</li>
<li>
<p>(1 points) creates an array using malloc to hold the data from the file (No memory errors)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Code rubrics</strong></p>
</div>
<div class="paragraph">
<p>For full credit, your C programs must be feature-complete, robust (e.g. run without memory errors or crashing) and
have good style.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Some credit lost for missing features or bugs, depending on severity of error</p>
</li>
<li>
<p>-5% for style errors. See the <a href="../codingstandard.html">class coding style</a> here.</p>
</li>
<li>
<p>-50% for memory errors</p>
</li>
<li>
<p>-100% for failure to checkin work to Github</p>
</li>
<li>
<p>-100% for failure to compile on linux using make</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-02-05 09:54:33 -0500
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>